version: '2.3'
services:
  python:
    image: python:3.8-slim
  lpr:
    runtime: nvidia
    environment:
      - NVIDIA_VISIBLE_DEVICES=all
    container_name: lpr
    image: takeruadelbert/lpr
    command: poetry run python main.py -m http.server 7070
    ports:
      - 7070:7070
    build:
      context: .
      dockerfile: docker/Dockerfile
    env_file:
      - environment.env
    network_mode: "host"